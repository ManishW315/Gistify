<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>data - Gistify</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "data";
        var mkdocs_page_input_path = "gistify\\text_summarizer\\data.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Gistify
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">gistify</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../config/">config</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../integrate/">integrate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">qa</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../qa/qa_pipeline/">qa_pipeline</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">s2t_converter</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../s2t_converter/transcribe/">transcribe</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../s2t_converter/utils/">utils</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">text_summarizer</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="./">data</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../model/">model</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../train/">train</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../predict/">predict</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Gistify</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>gistify &raquo;</li>
          <li>text_summarizer &raquo;</li>
      <li>data</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ManishW315/Gistify/edit/master/docs/gistify/text_summarizer/data.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="doc doc-object doc-module">



<a id="gistify.text_summarizer.data"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">




<h2 id="gistify.text_summarizer.data.SummaryDataModule" class="doc doc-heading">
          <code>SummaryDataModule</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="pytorch_lightning.LightningDataModule">LightningDataModule</span></code></p>


            <details class="quote">
              <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
              <pre class="highlight"><code class="language-python">class SummaryDataModule(pl.LightningDataModule):
    def __init__(
        self,
        data: Dataset,
        tokenizer: BartTokenizer,
        batch_size: int = SummarizationConfig.batch_size,
        max_len_in: int = SummarizationConfig.max_len_input,
        max_len_out: int = SummarizationConfig.max_len_output,
        padding: bool = SummarizationConfig.padding,
        truncation: bool = SummarizationConfig.truncation,
        add_special_tokens: bool = SummarizationConfig.add_special_tokens,
        num_workers: int = SummarizationConfig.num_workers,
    ) -&gt; None:
        """Prepare data into dataloader.

        Args:
            data (Dataset): raw input dataset.
            tokenizer (BartTokenizer): tokenizer to use.
            batch_size (int, optional): number of samples per batch of data. Defaults to SummarizationConfig.batch_size.
            max_len_in (int, optional): maximum input sequence length. Defaults to SummarizationConfig.max_len_input.
            max_len_out (int, optional): maximum output/generated sequence length.. Defaults to SummarizationConfig.max_len_output.
            padding (bool, optional): Whether to do padding or not.. Defaults to SummarizationConfig.padding.
            truncation (bool, optional): Whether to do truncation or not.. Defaults to SummarizationConfig.truncation.
            add_special_tokens (bool, optional): Whether to add special tokens or not.. Defaults to SummarizationConfig.add_special_tokens.
            num_workers (int, optional): NUmber of workers for distributed processing. Defaults to SummarizationConfig.num_workers.
        """
        super().__init__()

        self.ds = data
        self.train_ds = data["train"]
        self.val_ds = data["test"]
        self.tokenizer = tokenizer
        self.batch_size = batch_size
        self.max_len_in = max_len_in
        self.max_len_out = max_len_out
        self.padding = padding
        self.truncation = truncation
        self.add_special_tokens = add_special_tokens
        self.num_workers = num_workers

    def setup(self, stage=None):
        self.train_dataset = SummaryDataset(
            self.train_ds, self.tokenizer, self.max_len_in, self.max_len_out, self.padding, self.truncation, self.add_special_tokens
        )
        self.val_dataset = SummaryDataset(
            self.val_ds, self.tokenizer, self.max_len_in, self.max_len_out, self.padding, self.truncation, self.add_special_tokens
        )

    def train_dataloader(self):
        return DataLoader(self.train_dataset, batch_size=self.batch_size, shuffle=True, num_workers=self.num_workers)

    def val_dataloader(self):
        return DataLoader(self.val_dataset, batch_size=self.batch_size, shuffle=False, num_workers=self.num_workers)</code></pre>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="gistify.text_summarizer.data.SummaryDataModule.__init__" class="doc doc-heading">
          <code class="highlight language-python">__init__(data, tokenizer, batch_size=SummarizationConfig.batch_size, max_len_in=SummarizationConfig.max_len_input, max_len_out=SummarizationConfig.max_len_output, padding=SummarizationConfig.padding, truncation=SummarizationConfig.truncation, add_special_tokens=SummarizationConfig.add_special_tokens, num_workers=SummarizationConfig.num_workers)</code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Prepare data into dataloader.</p>



<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>data</code></b>
                  (<code><span title="torch.utils.data.Dataset">Dataset</span></code>)
              –
              <div class="doc-md-description">
                <p>raw input dataset.</p>
              </div>
            </li>
            <li>
              <b><code>tokenizer</code></b>
                  (<code><span title="transformers.BartTokenizer">BartTokenizer</span></code>)
              –
              <div class="doc-md-description">
                <p>tokenizer to use.</p>
              </div>
            </li>
            <li>
              <b><code>batch_size</code></b>
                  (<code>int</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.batch_size">batch_size</span></code>
)
              –
              <div class="doc-md-description">
                <p>number of samples per batch of data. Defaults to SummarizationConfig.batch_size.</p>
              </div>
            </li>
            <li>
              <b><code>max_len_in</code></b>
                  (<code>int</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.max_len_input">max_len_input</span></code>
)
              –
              <div class="doc-md-description">
                <p>maximum input sequence length. Defaults to SummarizationConfig.max_len_input.</p>
              </div>
            </li>
            <li>
              <b><code>max_len_out</code></b>
                  (<code>int</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.max_len_output">max_len_output</span></code>
)
              –
              <div class="doc-md-description">
                <p>maximum output/generated sequence length.. Defaults to SummarizationConfig.max_len_output.</p>
              </div>
            </li>
            <li>
              <b><code>padding</code></b>
                  (<code>bool</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.padding">padding</span></code>
)
              –
              <div class="doc-md-description">
                <p>Whether to do padding or not.. Defaults to SummarizationConfig.padding.</p>
              </div>
            </li>
            <li>
              <b><code>truncation</code></b>
                  (<code>bool</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.truncation">truncation</span></code>
)
              –
              <div class="doc-md-description">
                <p>Whether to do truncation or not.. Defaults to SummarizationConfig.truncation.</p>
              </div>
            </li>
            <li>
              <b><code>add_special_tokens</code></b>
                  (<code>bool</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.add_special_tokens">add_special_tokens</span></code>
)
              –
              <div class="doc-md-description">
                <p>Whether to add special tokens or not.. Defaults to SummarizationConfig.add_special_tokens.</p>
              </div>
            </li>
            <li>
              <b><code>num_workers</code></b>
                  (<code>int</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.num_workers">num_workers</span></code>
)
              –
              <div class="doc-md-description">
                <p>NUmber of workers for distributed processing. Defaults to SummarizationConfig.num_workers.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
          <details class="quote">
            <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
            <pre class="highlight"><code class="language-python">def __init__(
    self,
    data: Dataset,
    tokenizer: BartTokenizer,
    batch_size: int = SummarizationConfig.batch_size,
    max_len_in: int = SummarizationConfig.max_len_input,
    max_len_out: int = SummarizationConfig.max_len_output,
    padding: bool = SummarizationConfig.padding,
    truncation: bool = SummarizationConfig.truncation,
    add_special_tokens: bool = SummarizationConfig.add_special_tokens,
    num_workers: int = SummarizationConfig.num_workers,
) -&gt; None:
    """Prepare data into dataloader.

    Args:
        data (Dataset): raw input dataset.
        tokenizer (BartTokenizer): tokenizer to use.
        batch_size (int, optional): number of samples per batch of data. Defaults to SummarizationConfig.batch_size.
        max_len_in (int, optional): maximum input sequence length. Defaults to SummarizationConfig.max_len_input.
        max_len_out (int, optional): maximum output/generated sequence length.. Defaults to SummarizationConfig.max_len_output.
        padding (bool, optional): Whether to do padding or not.. Defaults to SummarizationConfig.padding.
        truncation (bool, optional): Whether to do truncation or not.. Defaults to SummarizationConfig.truncation.
        add_special_tokens (bool, optional): Whether to add special tokens or not.. Defaults to SummarizationConfig.add_special_tokens.
        num_workers (int, optional): NUmber of workers for distributed processing. Defaults to SummarizationConfig.num_workers.
    """
    super().__init__()

    self.ds = data
    self.train_ds = data["train"]
    self.val_ds = data["test"]
    self.tokenizer = tokenizer
    self.batch_size = batch_size
    self.max_len_in = max_len_in
    self.max_len_out = max_len_out
    self.padding = padding
    self.truncation = truncation
    self.add_special_tokens = add_special_tokens
    self.num_workers = num_workers</code></pre>
          </details>
  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="gistify.text_summarizer.data.SummaryDataset" class="doc doc-heading">
          <code>SummaryDataset</code>


</h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="torch.utils.data.Dataset">Dataset</span></code></p>


            <details class="quote">
              <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
              <pre class="highlight"><code class="language-python">class SummaryDataset(Dataset):
    def __init__(
        self, data: Dataset, tokenizer: BartTokenizer, max_len_in: int, max_len_out: int, padding: bool, truncation: bool, add_special_tokens: bool
    ) -&gt; Dict:
        """Initialize data preparation.

        Args:
            data (Dataset): raw input dataset.
            tokenizer (BartTokenizer): tokenizer to use.
            max_len_in (int): maximum input sequence length.
            max_len_out (int): maximum output/generated sequence length.
            padding (bool): Whether to do padding or not.
            truncation (bool): Whether to do truncation or not.
            add_special_tokens (bool): Whether to add special tokens or not.

        Returns:
            Dict: Dictionary containing raw input text, raw summary, input text ids, input attention mask, summary ids, summary attention mask
        """
        self.data = data
        self.tokenizer = tokenizer
        self.max_len_in = max_len_in
        self.max_len_out = max_len_out
        self.padding = padding
        self.truncation = truncation
        self.add_special_tokens = add_special_tokens

    def __len__(self):
        return len(self.data)

    def __getitem__(self, idx):
        text_encoding = prepare_input(
            self.tokenizer, self.data[idx]["article"], self.max_len_in, self.padding, self.truncation, self.add_special_tokens
        )
        summary_encoding = prepare_input(
            self.tokenizer, self.data[idx]["highlights"], self.max_len_out, self.padding, self.truncation, self.add_special_tokens
        )

        return dict(
            text=self.data["article"],
            summary=self.data["highlights"],
            text_input_ids=text_encoding["input_ids"].flatten(),
            text_attention_mask=text_encoding["attention_mask"].flatten(),
            summary_input_ids=summary_encoding["input_ids"].flatten(),
            summary_attention_mask=summary_encoding["attention_mask"].flatten(),
        )</code></pre>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="gistify.text_summarizer.data.SummaryDataset.__init__" class="doc doc-heading">
          <code class="highlight language-python">__init__(data, tokenizer, max_len_in, max_len_out, padding, truncation, add_special_tokens)</code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Initialize data preparation.</p>



<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>data</code></b>
                  (<code><span title="torch.utils.data.Dataset">Dataset</span></code>)
              –
              <div class="doc-md-description">
                <p>raw input dataset.</p>
              </div>
            </li>
            <li>
              <b><code>tokenizer</code></b>
                  (<code><span title="transformers.BartTokenizer">BartTokenizer</span></code>)
              –
              <div class="doc-md-description">
                <p>tokenizer to use.</p>
              </div>
            </li>
            <li>
              <b><code>max_len_in</code></b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>maximum input sequence length.</p>
              </div>
            </li>
            <li>
              <b><code>max_len_out</code></b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>maximum output/generated sequence length.</p>
              </div>
            </li>
            <li>
              <b><code>padding</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to do padding or not.</p>
              </div>
            </li>
            <li>
              <b><code>truncation</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to do truncation or not.</p>
              </div>
            </li>
            <li>
              <b><code>add_special_tokens</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to add special tokens or not.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
      <ul class="first simple">
          <li>
<b><code>Dict</code></b>(                <code><span title="typing.Dict">Dict</span></code>
)            –
            <div class="doc-md-description">
              <p>Dictionary containing raw input text, raw summary, input text ids, input attention mask, summary ids, summary attention mask</p>
            </div>
          </li>
      </ul>
    </td>
    </tr>
  </tbody>
</table>
          <details class="quote">
            <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
            <pre class="highlight"><code class="language-python">def __init__(
    self, data: Dataset, tokenizer: BartTokenizer, max_len_in: int, max_len_out: int, padding: bool, truncation: bool, add_special_tokens: bool
) -&gt; Dict:
    """Initialize data preparation.

    Args:
        data (Dataset): raw input dataset.
        tokenizer (BartTokenizer): tokenizer to use.
        max_len_in (int): maximum input sequence length.
        max_len_out (int): maximum output/generated sequence length.
        padding (bool): Whether to do padding or not.
        truncation (bool): Whether to do truncation or not.
        add_special_tokens (bool): Whether to add special tokens or not.

    Returns:
        Dict: Dictionary containing raw input text, raw summary, input text ids, input attention mask, summary ids, summary attention mask
    """
    self.data = data
    self.tokenizer = tokenizer
    self.max_len_in = max_len_in
    self.max_len_out = max_len_out
    self.padding = padding
    self.truncation = truncation
    self.add_special_tokens = add_special_tokens</code></pre>
          </details>
  </div>

</div>



  </div>

  </div>

</div>



<div class="doc doc-object doc-function">




<h2 id="gistify.text_summarizer.data.load_data" class="doc doc-heading">
          <code class="highlight language-python">load_data(loc=SummarizationConfig.DATASET_LOC, cfg=SummarizationConfig.CONFIG, samples=SummarizationConfig.SAMPLES, test_size=SummarizationConfig.test_size)</code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Load the dataset and split it into train and test sets.</p>



<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>loc</code></b>
                  (<code>str</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.DATASET_LOC">DATASET_LOC</span></code>
)
              –
              <div class="doc-md-description">
                <p>path to the dataset on local machine or HuggingFace data repository. Defaults to SummarizationConfig.DATASET_LOC.</p>
              </div>
            </li>
            <li>
              <b><code>cfg</code></b>
                  (<code>str</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.CONFIG">CONFIG</span></code>
)
              –
              <div class="doc-md-description">
                <p>(Specific to cnn dataset) version of the dataset. Defaults to SummarizationConfig.CONFIG.</p>
              </div>
            </li>
            <li>
              <b><code>samples</code></b>
                  (<code>int</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.SAMPLES">SAMPLES</span></code>
)
              –
              <div class="doc-md-description">
                <p>Number of data samples to load. Defaults to SummarizationConfig.SAMPLES.</p>
              </div>
            </li>
            <li>
              <b><code>test_size</code></b>
                  (<code>float</code>, default:
                      <code><span title="gistify.config.SummarizationConfig.test_size">test_size</span></code>
)
              –
              <div class="doc-md-description">
                <p>proportion of test set with respect to train set. Defaults to SummarizationConfig.test_size.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
      <ul class="first simple">
          <li>
<b><code>Dataset</code></b>(                <code><span title="torch.utils.data.Dataset">Dataset</span></code>
)            –
            <div class="doc-md-description">
              <p>Loaded and splitted dataset.</p>
            </div>
          </li>
      </ul>
    </td>
    </tr>
  </tbody>
</table>
          <details class="quote">
            <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
            <pre class="highlight"><code class="language-python">def load_data(
    loc: str = SummarizationConfig.DATASET_LOC,
    cfg: str = SummarizationConfig.CONFIG,
    samples: int = SummarizationConfig.SAMPLES,
    test_size: float = SummarizationConfig.test_size,
) -&gt; Dataset:
    """Load the dataset and split it into train and test sets.

    Args:
        loc (str, optional): path to the dataset on local machine or HuggingFace data repository. Defaults to SummarizationConfig.DATASET_LOC.
        cfg (str, optional): (Specific to cnn dataset) version of the dataset. Defaults to SummarizationConfig.CONFIG.
        samples (int, optional): Number of data samples to load. Defaults to SummarizationConfig.SAMPLES.
        test_size (float, optional): proportion of test set with respect to train set. Defaults to SummarizationConfig.test_size.

    Returns:
        Dataset: Loaded and splitted dataset.
    """
    logger.info("Loading data.")
    ds = load_dataset(loc, cfg, split=f"train[:{samples}]")
    ds = ds.train_test_split(test_size=test_size)
    return ds</code></pre>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="gistify.text_summarizer.data.prepare_input" class="doc doc-heading">
          <code class="highlight language-python">prepare_input(tokenizer, text, max_len, padding, truncation, add_special_tokens)</code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Tokenize and prepare the input text using the provided tokenizer.</p>



<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>tokenizer</code></b>
                  (<code><span title="transformers.BartTokenizer">BartTokenizer</span></code>)
              –
              <div class="doc-md-description">
                <p>Tokenizer to use.</p>
              </div>
            </li>
            <li>
              <b><code>text</code></b>
                  (<code>str</code>)
              –
              <div class="doc-md-description">
                <p>input test.</p>
              </div>
            </li>
            <li>
              <b><code>max_len</code></b>
                  (<code>int</code>)
              –
              <div class="doc-md-description">
                <p>maximum length of the token.</p>
              </div>
            </li>
            <li>
              <b><code>padding</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to do padding or not.</p>
              </div>
            </li>
            <li>
              <b><code>truncation</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to do truncation or not.</p>
              </div>
            </li>
            <li>
              <b><code>add_special_tokens</code></b>
                  (<code>bool</code>)
              –
              <div class="doc-md-description">
                <p>Whether to add special tokens or not.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
    <th class="field-name">Returns:</th>
    <td class="field-body">
      <ul class="first simple">
          <li>
<b><code>Dict</code></b>(                <code><span title="typing.Dict">Dict</span></code>
)            –
            <div class="doc-md-description">
              <p>A dictionary containing the tokenized input with keys such as 'input_ids',
'attention_mask', etc.</p>
            </div>
          </li>
      </ul>
    </td>
    </tr>
  </tbody>
</table>
          <details class="quote">
            <summary>Source code in <code>gistify\text_summarizer\data.py</code></summary>
            <pre class="highlight"><code class="language-python">def prepare_input(tokenizer: BartTokenizer, text: str, max_len: int, padding: bool, truncation: bool, add_special_tokens: bool) -&gt; Dict:
    """Tokenize and prepare the input text using the provided tokenizer.

    Args:
        tokenizer (BartTokenizer): Tokenizer to use.
        text (str): input test.
        max_len (int): maximum length of the token.
        padding (bool): Whether to do padding or not.
        truncation (bool): Whether to do truncation or not.
        add_special_tokens (bool): Whether to add special tokens or not.

    Returns:
        Dict: A dictionary containing the tokenized input with keys such as 'input_ids',
            'attention_mask', etc.
    """
    logger.info("Preparing data inputs.")
    inputs = tokenizer.encode_plus(
        text,
        return_tensors="pt",
        max_length=max_len,
        padding=padding,
        truncation=truncation,
        add_special_tokens=add_special_tokens,
    )
    return inputs</code></pre>
          </details>
  </div>

</div>



  </div>

  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../s2t_converter/utils/" class="btn btn-neutral float-left" title="utils"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../model/" class="btn btn-neutral float-right" title="model">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ManishW315/Gistify" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../../s2t_converter/utils/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../model/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme_extra.js" defer></script>
    <script src="../../../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
